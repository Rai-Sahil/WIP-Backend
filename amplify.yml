version: 1
applications:
  - appRoot: .
    backend:
      phases:
        preBuild:
          commands:
            - npm install  # Install backend dependencies
        build:
          commands:
            - echo "No build step required for backend"  # No build process for backend
        postBuild:
          commands:
            - echo "Backend build completed!"
            - node server.js  # Start the backend server
    artifacts:
      baseDirectory: .  # Root directory of the project where server.js is located
      files:
        - '**/*'  # Include all files in the directory as part of the artifacts
    cache:
      paths:
        - node_modules/**/*  # Cache node_modules to speed up future builds
    frontend:
      phases:
        preBuild:
          commands:
            - echo "No frontend build required"
        build:
          commands:
            - echo "No frontend to build"
